<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="style.css"> 
    <title>Simple photo editor</title>
</head>
<body>
    <div class="uploader">

        <input type="file" id="loader" accept=".jpeg, .jpg, .png" />

        <canvas id="uploadedImg" src="#" width="600px" height="400px">
        </canvas>

        <button type="submit" id="imageDrawing">Enable drawing</button>
    
    </div>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"   integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script>

    // image loader to canvas

    let imageLoader = document.querySelector('#loader');
    imageLoader.addEventListener('change', handleImage, false);
    let canvas = document.querySelector('#uploadedImg');
    let ctx = canvas.getContext('2d');

    function handleImage(e) {
        let reader = new FileReader();
        reader.onload = function(event)
        {
            let img = new Image();
            img.onload = function()
            {
                ctx.drawImage(img, 0, 0);  
            }
            img.src = event.target.result;
        }
        reader.readAsDataURL(e.target.files[0]);
    }

    
    //  drawing
        
    document.querySelector('#imageDrawing').onclick = function () {

    let isDrawing = false;
    ctx.lineJoin = 'round';
    ctx.lineCap = 'round';
    ctx.lineWidth = 2;
    ctx.strokeStyle = "#000000";

    canvas.addEventListener('mousedown', (e) => {
    isDrawing = true;
    [lastX, lastY] = [e.offsetX, e.offsetY];
    });
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('mouseup', () => isDrawing = false);
    canvas.addEventListener('mouseout', () => isDrawing = false);
    
    function draw(e) {
        if(!isDrawing) return;    
        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        ctx.lineTo(e.offsetX, e.offsetY);
        ctx.stroke();
        [lastX, lastY] = [e.offsetX, e.offsetY];
    }   
}

    //  brightness 
    //  contrast 
    //  saturation 
    
</script>
</body>
</html> 